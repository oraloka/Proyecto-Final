Modelo Entidad-Relación Avanzado para empresa de venta de materiales de construcción

Entidades principales:

1. Usuario
   - id_usuario (PK)
   - nombre
   - email
   - contraseña
   - rol (admin, cliente, proveedor, vendedor)
   - estado (activo, bloqueado)

2. Admin (hereda de Usuario)
   - id_usuario (PK, FK)
   - fecha_creacion

3. Cliente (hereda de Usuario)
   - id_usuario (PK, FK)
   - direccion
   - telefono

4. Proveedor (hereda de Usuario)
   - id_usuario (PK, FK)
   - empresa
   - telefono

5. Vendedor (hereda de Usuario)
   - id_usuario (PK, FK)
   - telefono

6. Producto
   - id_producto (PK)
   - nombre
   - descripcion
   - precio
   - stock
   - id_proveedor (FK)

7. Pedido
   - id_pedido (PK)
   - fecha
   - estado (pendiente, aceptado, rechazado, entregado, en camino)
   - id_cliente (FK)
   - id_vendedor (FK, puede ser null si lo acepta un admin)
   - id_admin (FK, puede ser null si lo acepta un vendedor)

8. DetallePedido
   - id_detalle (PK)
   - id_pedido (FK)
   - id_producto (FK)
   - cantidad
   - precio_unitario

9. Factura
   - id_factura (PK)
   - id_pedido (FK)
   - fecha
   - total
   - url_pdf

10. Notificacion
   - id_notificacion (PK)
   - id_usuario (FK)
   - mensaje
   - fecha
   - leida (bool)

11. EnvioProveedor
   - id_envio (PK)
   - id_proveedor (FK)
   - id_producto (FK)
   - cantidad
   - fecha
   - estado (pendiente, aceptado, rechazado)
   - id_admin (FK)

Relaciones y reglas:
- Un usuario puede ser admin, cliente, proveedor o vendedor (rol).
- Un admin puede aceptar/rechazar pedidos, aceptar envíos de proveedores, eliminar/bloquear/desbloquear usuarios, agregar más admins.
- Un cliente puede hacer muchos pedidos, ver productos, ver pedidos (por estado), ver facturas, recibir notificaciones por email y en la app.
- Un proveedor puede entregar envíos, ver facturas, recibir notificaciones por email y en la app.
- Un vendedor puede aceptar pedidos, ver y actualizar stocks, solicitar a proveedores lo que falta.
- Un pedido puede ser aceptado/rechazado por admin o vendedor.
- Cuando un pedido es aceptado, el cliente recibe notificación por email y factura en su menú.
- Cuando un proveedor es aceptado para un envío, recibe notificación por email.
- El estado de usuario permite bloquear/desbloquear cuentas.
- Factura se asocia a un pedido y es visible para cliente y proveedor.

Notas:
- Todas las claves primarias (PK) son únicas.
- Las claves foráneas (FK) enlazan las entidades relacionadas.
- El login y roles se mantienen como en el sistema actual, pero extendido para más funcionalidades.
